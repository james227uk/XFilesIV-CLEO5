//========================================================================================================================================================================================================
//------------------------------------------------------------------------------------------- GTA X-Files IV (2024) --------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------------- By james227uk -------------------------------------------------------------------------------------------
//========================================================================================================================================================================================================
//                                                                                Developed using Sanny Builder 4 and CLEO5 Beta.
//========================================================================================================================================================================================================


//========================================================================================================================================================================================================
//    1. SCM Header 
//    Counts how many missions and external scripts we have. Update when necessary. 
//========================================================================================================================================================================================================
DEFINE MISSIONS 0
//DEFINE MISSION {ID} 0 AT {LABEL} @
DEFINE EXTERNAL_SCRIPTS 0 // Use -1 in order not to compile AAA script
//DEFINE SCRIPT {NAME}  AT {LABEL} @
DEFINE UNKNOWN_EMPTY_SEGMENT 0
DEFINE UNKNOWN_THREADS_MEMORY 0

var 
    $PLAYER_CHAR: Player 
end 
script_name 'MAIN'
declare_mission_flag {Name:} $ONMISSION
set_var_int {Int:} $DEFAULT_WAIT_TIME {Value:} 250



//========================================================================================================================================================================================================
//    2. Initialise World
//    Initialise the world and set initial properties such as weather.
//========================================================================================================================================================================================================
request_collision {X:} 2488.56 {Y:} -1666.84
load_scene {X:} 2488.56 {Y:} -1666.84 {Z:} 13.38
set_area_visible {InteriorID:} 0
set_time_of_day {Hour:} 8 {Minutes:} 0
force_weather_now {Weather ID:} 0



//========================================================================================================================================================================================================
//    3. Initialise Player
//    Create player and set initial stats.
//======================================================================================================================================================================================================== 

// Create player
create_player {Index:} 0 {X:} 2488.56 {Y:} -1666.84 {Z:} 13.38 {Player:} $PLAYER_CHAR
get_player_char {Player:} $PLAYER_CHAR {Player Actor:} $PLAYER_ACTOR
get_player_group {Player:} $PLAYER_CHAR {Player Group:} $PLAYER_GROUP
set_player_control {Player:} $PLAYER_CHAR {State:} True
set_camera_behind_player

// Set player clothes
give_player_clothes_outside_shop {Player:} $PLAYER_CHAR {Texture:} "PLAYER_FACE" {Model:} "HEAD" {Body Part:} 1
give_player_clothes_outside_shop {Player:} $PLAYER_CHAR {Texture:} "JEANSDENIM" {Model:} "JEANS" {Body Part:} 2
give_player_clothes_outside_shop {Player:} $PLAYER_CHAR {Texture:} "SNEAKERBINCBLK" {Model:} "SNEAKER" {Body Part:} 3
give_player_clothes_outside_shop {Player:} $PLAYER_CHAR {Texture:} "VEST" {Model:} "VEST" {Body Part:} 0
build_player_model {Player:} $PLAYER_CHAR

// Set respawn points
add_hospital_restart {X:} 2027.77 {Y:} -1420.52 {Z:} 15.99 {Angle:} 137.0 {TownID:} 0
add_police_restart {X:} 1550.68 {Y:} -1675.49 {Z:} 14.51 {Angle:} 90.0 {TownID:} 0

// Set initial stats
set_int_stat {StatID:} 181 {Value:} 4
set_max_wanted_level 6
set_deatharrest_state 0



//========================================================================================================================================================================================================
//    4. Final Initialisation
//    Final initialisation steps, launch the initial 'mission', then create initial threads.
//========================================================================================================================================================================================================
wait 0
do_fade {Duration:} 0 {Direction:} 1
clear_help


//========================================================================================================================================================================================================
//    5. Main Loop
//    Keep the MAIN script in a perpetual loop to prevent shenanigans.
//========================================================================================================================================================================================================
:MAIN_LOOP
wait {Duration:} $DEFAULT_WAIT_TIME
get_time_of_day {Hours Var:} $TIME_HOURS {Minutes Var:} $TIME_MINS
jump @MAIN_LOOP 



//========================================================================================================================================================================================================
//    6. Universal Scripts
//    Scripts that run in both Storymode and Freemode.
//========================================================================================================================================================================================================



//========================================================================================================================================================================================================
//    7. Storymode Scripts
//    Scripts that run exclusively in Storymode.
//========================================================================================================================================================================================================



//========================================================================================================================================================================================================
//    8. Main Loop
//    Scripts that run exclusively in Freemode.
//========================================================================================================================================================================================================



//========================================================================================================================================================================================================
//    9. Functions
//    Custom functions called extensively to reduce code bloat.
//========================================================================================================================================================================================================




//========================================================================================================================================================================================================
//    10. Missions
//    All missions go here. They are only loaded into memory when called.
//========================================================================================================================================================================================================



//========================================================================================================================================================================================================
//    11. External Scripts
//    All external scripts. They are only loaded into memory when called.
//========================================================================================================================================================================================================



