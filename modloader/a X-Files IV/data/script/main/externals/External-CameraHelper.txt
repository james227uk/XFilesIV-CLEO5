//==========================================================================================================================================================================================================
//------------------------------------------------------------------------------------------- GTA X-Files IV (2024) ----------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------------- By james227uk ---------------------------------------------------------------------------------------------
//==========================================================================================================================================================================================================
// Name:        Camera Helper
// Description: This script is a development tool used to help perfect camera angles.
// Path:        main\externals\External-CameraHelper.txt
// Trigger:     Upon pressing activation buttons.
//==========================================================================================================================================================================================================

{$USE CLEO}
{$USE CLEO+}
{$USE file}
{$USE ini}
{$USE debug}

script_name 'DBGCAMH'

while true
    wait 0
    // Get camera position
    if Pad.TestCheat("[")
    then
        Char.GetCoordinates($scplayer, 0@, 1@, 2@)
        Text.PrintStringNow("Got pos coordinates", 1000)
    end
    
    // Get camera point position
    if Pad.TestCheat("]") // ]
    then
        //Char.GetCoordinates($scplayer, 3@, 4@, 5@)
        Camera.GetThirdPersonTarget(100.0, 0@, 1@, 2@, 10@, 11@, 12@, 13@, 14@, 15@)
        Text.PrintStringNow("Got point coordinates", 1000)
    end
    
    // Test camera position
    if Pad.TestCheat("'") // ' 
    then
        Camera.SetFixedPosition(0@, 1@, 2@, 0.0, 0.0, 0.0)
        //Camera.PointAtPoint(3@, 4@, 5@, 2)
        Camera.PointAtPoint(13@, 14@, 15@, 2)
        
        // Stall until the player lets go of the key.
        repeat
            wait 0
        until not Pad.TestCheat("'") // ' 
        
        // Stall until the player presses the key again to reset the camera.
        wait 250
        repeat
            wait 0
        until Pad.TestCheat("'") // ' 
        Camera.RestoreJumpcut()       
    end
    
    if Pad.TestCheat("#") // ]
    then
        Debugger.LogLine(logPath, True, "Camera Position: %f, %f, %f", 0@, 1@, 2@)
        Debugger.LogLine(logPath, True, "Camera Point: %f, %f, %f", 3@, 4@, 5@)
        Text.PrintStringNow("Wrote coordinates to log.", 1000)
        break
    end    
end

terminate_this_script
